<div class="post">
  <app-photo></app-photo>

  <div class="content">
    <a [routerLink]="['/post', post.id]">
      <div class="user">
        <h4>{{ post.name }}</h4>
        <p class="username">{{ post.username }}</p>
        <p class="date">â€¢ {{ post.postedAt | datetime }}</p>
      </div>
    </a>

    <div class="text">
      <p>{{ post.content }}</p>

      <button type="button" *ngIf="showDeleteButton" (click)="onSetModal(post.id)">
        <i class="bi bi-trash"></i>
      </button>

      <button type="button" *ngIf="showEditButton" (click)="onEdit">
        <i class="bi bi-pencil-square"></i>
      </button>
    </div>

    <div class="actions">
      <button (click)="onLike(post.id)">
        <div class="likes">
          <i class="bi bi-heart-fill" [ngClass]="{'liked': isLiked}"></i>
          <span>{{ post.likes }}</span>
        </div>
      </button>
    </div>
  </div>
</div>

<app-modal *ngIf="isModalOpen(post.id)" [post]="post">
  <h2 title>Excluir</h2>
  <p body style="margin: 1.2rem 0;">
    Tem certeza que deseja excluir este post?
  </p>
  <div actions style="display: flex; justify-content: space-between;">
    <button action (click)="onDelete(post.id)">Excluir</button>
    <button action color="danger" (click)="onClose">Cancelar</button>
  </div>
</app-modal>